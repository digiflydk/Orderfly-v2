
# Brand Website: CMS Validation Rules

This document defines the validation behavior for the Brand Website CMS, matching the backend Zod schemas.

## Domain Validation (`config.domains`)

*   **Rule:** Must be non-empty strings.
*   **Rule:** Must NOT contain `http://` or `https://`.
*   **Rule:** Must NOT contain spaces.
*   **Rule:** Must contain at least one dot (`.`).
*   **Rule:** Empty domain rows are not submitted.

## URL Validation (SEO, Social, Legal)

Applies to fields like `seo.canonicalUrl`, `social.facebook`, `legal.customPrivacyPolicy`, etc.

*   **Rule:** Non-empty values must be valid URLs starting with `http://` or `https://`.
*   **Rule:** Optional fields can be left empty.

## Typography & Fonts (`designSystem.typography`)

*   **Fields:** `headingFont`, `bodyFont`, `h1Size`, `h2Size`, `h3Size`, `bodySize`.
*   **Rule:** All are optional but must be non-empty strings if provided.
*   **Rule:** `headingFont` and `bodyFont` should match an allowed font preset in the UI dropdown.

## Colors (`designSystem.colors`)

*   **Fields:** `primary`, `secondary`, `background`, `textPrimary`, etc.
*   **Rule:** Must be non-empty strings. The UI uses a color picker, which ensures a valid hex code.

## Header & Transparency (`designSystem.header`)

*   **Field:** `header.sticky`
    *   **Rule:** Must be a boolean.
*   **Field:** `header.height`
    *   **Rule:** Must be a non-empty string (e.g., "80px").
*   **Field:** `header.transparencyPercent`
    *   **Rule:** Must be a number between 0 and 100 (inclusive).

## Spacing (`designSystem.spacing`)

*   **Fields:** `xs`, `sm`, `md`, `lg`, `xl`.
*   **Rule:** Must be non-negative numbers.

## Buttons (`designSystem.buttons`)

*   **Field:** `shape`
    *   **Rule:** Must be one of `'pill'`, `'rounded'`, or `'square'`.
*   **Field:** `defaultVariant`
    *   **Rule:** Must be a valid variant string (e.g., "solid", "outline").

## Tracking IDs (`tracking`)

*   **Fields:** `ga4MeasurementId`, `gtmId`, `metaPixelId`, etc.
*   **Rule:** All are optional strings. No strict format is enforced by the schema, but the UI may provide placeholders as hints.

## Legal (`legal`)

*   **Field:** `usePlatformDefaults`
    *   **Rule:** Must be a boolean.
*   **Rule:** If `usePlatformDefaults` is `false`, the custom URL fields may become effectively required by the UI logic, although they are optional in the schema.

## General Error Handling

*   **Rule:** Invalid fields must block the save operation for that specific section.
*   **Rule:** Errors must be displayed as user-friendly messages next to the respective fields.
*   **Rule:** No raw stack traces or JSON error dumps are shown to the user.
